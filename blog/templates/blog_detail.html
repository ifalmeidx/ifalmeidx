{% extends 'base.html' %}
{% load static %}
<!-- Page content-->
{% block page_content %}
<div class="container">
    <div class="">
        <div class="col-lg-8">
            <!-- Post content-->
            <article>
                <!-- Post header-->
                <header class="mb-4">
                    <!-- Post title-->
                    <h1 class="fw-bolder mb-1">{{ post.title }}</h1>
                    <!-- Post meta content-->
                    <div class="text-muted fst-italic mb-2">
                        <small>{{post.created_on.date}}|&nbsp;
                            Categories:&nbsp;
                            {% for category in post.categories.all %}
                            <a class="badge bg-secondary text-decoration-none link-light"
                                href="{% url 'blog_category' category.name %}">
                                {{ category.name }}
                            </a>&nbsp;
                            {% endfor %}
                            by {{post.author}}
                        </small>
                    </div>
                </header>
                <!-- Preview image figure-->
                <figure class="mb-4"><img class="img-fluid rounded" src="{% static 'img/project1.png' %}" alt="..." />
                </figure>
                <!-- Post content-->
                <section class="mb-5">
                    <p class="fs-5 mb-4">{{post.body | linebreaks }}</p>
                </section>

            </article>
            <!-- Comments section-->
            <section class="mb-5">
                <div class="card bg-light">
                    <div class="card-body">
                        <h6>Join the discussion!</h6>
                        <form class='mb-4' action="/blog/{{ post.pk }}/" method="post">
                            {% csrf_token %}
                            {{ form.author }}
                            <br>
                            {{ form.body }}
                            <br>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>

                        <h6>Comments:</h6>
                        {% for comment in comments %}
                        <p>
                            On {{comment.created_on.date }}&nbsp;
                            <b>{{ comment.author }}</b> wrote:
                        </p>
                        <p>{{ comment.body }}</p>
                        <hr>
                        {% endfor %}
                    </div>
                </div>
            </section>
        </div>

    </div>
</div>
{% endblock %}